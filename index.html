
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>PG MapView</title>
<link rel="stylesheet" href="lib/ol.css">
<link rel="stylesheet" href="pgmap.css">
<link rel="stylesheet" href="pgmapview.css">
</head>

<body>

<table class='header-tbl'>
    <tr>
        <td class='header' width='50px'></td>
        <td class='header'>PG MapView</td>
        <td class='header'><a class='help-btn' target='new' href='help.html'>?</a></td>
    </tr>
</table>

<div id='map'></div>
<div id="popup" class="ol-popup">
    <a href="#" id="popup-closer" class="ol-popup-closer">x</a>
    <div id="popup-content"></div>
</div>

<div class='sidebar'>
    <div class='sidebar-header'>Layers &nbsp; <button id='btn-layer-add-show'>Add...</button></div>
    <div id='layer-list'></div>
</div>
<div id='ol-mousepos' class='ol-mousepos'>&nbsp;</div>

<div id='identify-panel' class="identify-panel panel">
    <div class='panel-title'>Identify</div>
    <div class="panel-closer">x</div>
    <div class='identify-content-panel'>
        <table id="identify-content"></table>
    </div>
</div>
<div id='style-panel' class='style-panel panel'>
    <div style='margin-bottom: 10px;'>Layer Style</div>
    <table id='tbl-style' style='width:100%'>
        <tr><td class='panel-line-title'>Color</td><td><input type="color" id='style-color' class='layer-color'></td></tr>
        <tr><td class='panel-line-title'>Label</td>
            <td><input type="checkbox" id='chk-style-label'>
            Property <input type="text" id='style-label' style='width:100px' value=''></td></tr>
        <!--<tr><td class='panel-line-title'>Declutter</td><td><input type="checkbox" id='style-declutter'></td></tr>-->
    </table>
    <div style='margin: 8px 0px 8px 0px;'><span class='panel-line-title'>Title</span> <input type="text" id='style-title' style='width:90%;'></div>
    <div>
        <button id='btn-style-update'>Update</button>
        <button id='btn-panel-cancel' class='btn-panel-cancel'>Cancel</button>
    </div>
</div>
<div id='info-panel' class='info-panel panel'>
    <div class='panel-title'>Layer Info</div>
    <div class="panel-closer">x</div>
    <div class='panel-content'>
        <table>
            <tr><td class='identify-name'>Name</td><td id='info-name'></td></tr>
            <tr><td class='identify-name'>Features</td><td id='info-count-features'></td></tr>
            <tr><td class='identify-name'>Load Time (s)</td><td id='info-loadtime'></td></tr>
            <tr><td class='identify-name'>URL</td><td id='info-url'></td></tr>
            <tr><td class='identify-name'>Status</td><td id='info-status'></td></tr>
        </table>
    </div>
</div>
<div class='layer-panel panel' id='panel-layer-add'>
    <div style='margin-bottom: 10px;' id='layer-panel-title'>Add Layer</div>
    <div class='layer-panel-tabs'>
        <input type='radio' class='radio-layer-tab' name='radio-layer-tab' id='radio-layer-tab-fc'> Collection
        <input type='radio' class='radio-layer-tab' name='radio-layer-tab' id='radio-layer-tab-ds'> Dataset
        <input type='radio' class='radio-layer-tab' name='radio-layer-tab' id='radio-layer-tab-vt'> Vector Tile
    </div>
    <div class='layer-tab-panel' id='layer-tab-fc'>
    <table id='tbl-fc-url' style='width:100%'>
        <tr><td class='panel-group-title' cellspan='2'>Service</td></tr>
        <tr><td class='panel-line-title'>URL</td><td><input type="text" id='layer-host' style='width:90%;' value='http://localhost:9000'></td></tr>
        <tr><td class='panel-group-title' cellspan='2'>Collection</td></tr>
        <tr><td class='panel-line-title'>Collection</td><td><input type="text" id='layer-name' style='width:90%;' value=''></td></tr>
        <tr><td class='panel-line-title'></td><td>
            <button id='btn-fc-read'>Show></button>
            <select id='fc-names' style='width:75%;' onchange="onChangeCollection(this, 'layer-name');" ></select>
            </td></tr>
        <tr><td></td><td></td></tr>
    </table>
    <table id='tbl-parameters' style='width:100%'>
        <tr><td class='panel-group-title' cellspan='2'>Parameters</td></tr>
        <tr><td class='panel-line-title'>Limit</td><td><input type="text" id='layer-limit' style='width:60px;'></td></tr>
        <tr><td class='panel-line-title'>Precision</td><td><input type="text" id='layer-precision' style='width:60px;'></td></tr>
        <tr><td class='panel-line-title'>Bbox</td><td><input type="text" id='layer-bbox' style='width:90%;'></td></tr>
        <tr><td class='panel-line-title'></td><td><button id='btn-layer-bbox-use-map'>Set from Map</button></td></tr>
        <tr><td class='panel-line-title'>Transform</td><td><input type="text" id='layer-transform' style='width:90%;'></td></tr>
        <tr><td></td><td>
            <select id='sel-transform-function' onchange="onChangeTransform(this,'layer-transform');" >
                    <option value=''>Add transform...</option>
                    <optgroup label="Geometry">
                        <option>ST_Boundary</option>
                        <option>ST_Centroid</option>
                        <option>ST_Envelope</option>
                        <option>ST_PointOnSurface</option>
                    </optgroup>
                    <optgroup label="Construction">
                        <option>ST_Buffer,D</option>
                        <option>ST_ConvexHull</option>
                        <option>ST_DelaunayTriangles</option>
                        <option>ST_MinimumBoundingCircle</option>
                        <option>ST_OffsetCurve,D</option>
                   </optgroup>
                    <optgroup label="Generate">
                        <option>ST_GeneratePoints,9</option>
                    </optgroup>
                    <optgroup label="Simplify/Smooth">
                            <option>ST_Simplify,D</option>
                        <option>ST_ChaikinSmoothing,4</option>
                    </optgroup>
                    <optgroup label="Line Processing">
                        <option>ST_LineSubstring,0.2,0.8</option>
                    </optgroup>
                </select>
                <button id='btn-transform-clear'>Reset</button>
            </td></tr>
    </table>
    </div>
    <div class='layer-tab-panel' id='layer-tab-ds' style='display: none;'>
        <table style='width:100%'>
            <tr><td class='panel-line-title'>URL</td><td><input type="text" id='layer-url' style='width:90%;' value=''></td></tr>
        </table>
    </div>
    <div class='layer-tab-panel' id='layer-tab-vt' style='display: none;'>
        <table style='width:100%'>
            <tr><td class='panel-group-title' cellspan='2'>Service</td></tr>
            <tr><td class='panel-line-title'>URL</td><td><input type="text" id='layervt-host' style='width:90%;' value='http://localhost:7800'></td></tr>
            <tr><td class='panel-group-title' cellspan='2'>Name</td></tr>
            <tr><td class='panel-line-title'>Name</td><td><input type="text" id='layervt-name' style='width:90%;' value=''></td></tr>
        </table>
    </div>
    <div style='margin: 8px 0px 8px 0px;'><span class='panel-line-title'>Title</span> <input type="text" id='layer-title' style='width:90%;'></div>
    <div id='layer-options'>
        <table style='width:100%'>
        <tr>
            <td class='panel-group-title' >Display Effect</td>
            <td class='panel-line-controls'>
                <input type="radio" id='chk-none'> None
                <input type="radio" id='chk-heatmap'> Heatmap
                <input type="radio" id='chk-cluster'> Cluster
                <input type="radio" id='chk-declutter'> Declutter
            </td>
        </tr>
        </table>
   </div>
    <div>
        <button id='btn-layer-add'>Add</button>
        <button id='btn-layer-update'>Update</button>
        <button id='btn-layer-add-cancel'>Cancel</button>
    </div>
</div>

<div id="popup-container" class="arrow_box" style='display:none;'></div>

<script type="text/javascript" src="lib/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="lib/ol.js"></script>
<!--<script src="util.js"></script>-->
<script src="PGMap.js"></script>
<script src="Layer.js"></script>
<script src="pgmapview-ui.js"></script>
<script src="pgmapview.js"></script>
<script src="mockdata.js"></script>

</body>
</html>
